
<html>

    {% include 'head.html' %}
    <div class="row">
     
      <div class="col s6">
       <h3 class="center grey-text">Atualizar valuation</h3> 
  
      </div>
    </div>
    
    <form action="/showvaluation" onsubmit="return check_form()" class="white" method = "post" form = "formEvento">
      
     
       <label class="center" style="font-size: 30; color: black;">Valuation {{rbd[1]}}</label>
        <input type="hidden" name="idValuation" value="{{rbd[0]}}">
      
    
      <div class="row">
      
          <div class="row">
            <div class="input-field col s12">
        <div class="white">
          <label >Aliquota do Imposto de Renda</label>
              <input name="IR"  class="required" type="number"  class="validate">
             </div> 
            </div>       
          </div>
        
        
          <label >Valores para realizar valuation</label>
        <div style="padding: 5px;"> 
            {set n : 5 } 
          <table class="striped">
            <thead>
              <tr>
                  <th> </th>
                  <th style="color:black"><label id="head1">unload  </label></th>
                  <th style="color:black"><label id="head2"> unload </label></th>
                  <th style="color:black"><label id="head3"> unload </label></th>
                  <th style="color:black"><label id="head4">unload  </label></th>
                  <th style="color:black"><label id="head5"> unload </label></th>
              </tr>
            </thead>
    
            <tbody>
              <tr>
                <td><label>EBIT</label></td>
                {% for i in range(5) %}
                <td><input type="number" class="required" step="0.01" value="{{rbd[i + 10]}}" name="ebit{{i}}"></td>
                {% endfor %}
               
              </tr>
              <tr>
                <td><label>EBITDA</label></td>
                {% for i in range(5) %}
                <td><input type="number" class="required" step="0.01" value="{{rbd[i + 17]}}" name="ebitda{{i}}"></td>
                {% endfor %}
                </tr>
              <tr>
                <td><label>CG</label></td>
                {% for i in range(5) %}
                <td><input type="number" class="required" step="0.01" value="{{rbd[i + 24]}}" name="cg{{i}}"></td>
                {% endfor %}
                </tr>
             </tbody>
          </table>
        
          </div>
        
        <div class="row">
            <div class="input-field col s12">
        <div class="white">
          <label >Crescimento previsto</label>
              <input name="growth" class="required" type="number" step="0.01"  class="validate">
             </div> 
            </div>       
          </div>
        
        <div class="row">
            <div class="input-field col s12">
              <div class="white">
                <label >Investimentos previstos</label>
                <input name="reinvest" class="required" step="0.01" type="number" value="" class="validate">
          
             </div> 
            </div>       
          </div>
          <div class="row">
            <div class="input-field col s12">
              <div class="white">
                <label >Caixa da empresa</label>
                <input name="cash" class="required" step="0.01" type="number" value="" class="validate">
          
             </div> 
            </div>       
          </div>
          <div class="row">
            <div class="input-field col s12">
              <div class="white">
                <label >Quantidade de açoes</label>
                <input name="stocks" class="stocks" type="number" value="{{rbd[2]}}" class="validate">
          
             </div> 
            </div>       
          </div>
        
        <div class="row">	  
        <div class="col s12">
          <div class="center" style="margin-top: 10px;">
          <input type="submit" name="salvarEvento" value="Salvar" class="btn-brand z-depth-0">
        </div>
        </div>
        
        </div>
          
        </form>
  
      <script >
        window.onload = function(){
          
          var actualYear = new Date();
          for (var i = 5; i > 0 ; i-- ){
            var head = document.getElementById("head" + i);
            head.textContent = actualYear.getFullYear() - i;
          }

          
            
           /*  var overhtml = document.getElementsByName("stocks");
            overhtml[0].value = {{rbd[2]}};
            for (var x = 10; x < 15; x ++){
            var ebithtml = document.getElementsByName("ebit" + (x - 9));
            var ebitdahtml = document.getElementsByName("ebitda" + (x - 9));
            var workhtml = document.getElementsByName("cg" + (x - 9));
            ebithtml[0].value = 14556451316;
            var y = x + 7;
            ebitdahtml[0].value = {{rbd[2]}};
            var z = x + 14;
            workhtml[0].value =  {{rbd[2]}};
            } */
        } 
        //Esta funçao buscara os tickers automaticamente para executar
        // valuation
        
  
          function check_form(){
            var required = document.getElementsByClassName("required");
            var len = required.length;
            var valid = true;
            for(var i=0; i < len; i++){
              if (!required[i].value){ valid = false; }
            }
            if (!valid){
              alert('Por favor preencha todos os campos.');
              return false;
            } else { return true; }
            }
      
          
  
      </script>
       
       <script>
        function registerValues(){
        
         
 
         }
       </script>
            
        {% include "footer.html"  %}
    </html>
    
  